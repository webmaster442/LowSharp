<?xml version="1.0" encoding="utf-8" ?>
<examples>

<e name="Record class primary ctor" lang="csharp"><![CDATA[
record class ExampleRecord(string Name, int Value);
]]></e>
  
<e name="Regular class primary ctor" lang="csharp"><![CDATA[
class PrimaryCtor(string name, int value)
{
	public int Property => value;
	
	public int Computed { get; private set; }
	
	public void SomeMethod()
	{
		Computed *= name.Length;
	}
}
]]></e>

<e name="Pattern matching" lang="csharp"><![CDATA[
using System;
using System.Collections.Generic;
using System.Linq;

public class Patternmatch
{
	private int? GetNumber()
	{
		if (Random.Shared.Next() % 2 == 0)
			return 42;
		
		return null;
	}

	public void NullCheck()
	{
		int? maybe = GetNumber();
		if (maybe is int number)
		{
    		Console.WriteLine($"The nullable int 'maybe' has the value {number}");
		}
		else
		{
    		Console.WriteLine("The nullable int 'maybe' doesn't hold a value");
		}
	}
	
	public static T MidPoint<T>(IEnumerable<T> sequence)
    {
        if (sequence is IList<T> list)
        {
        return list[list.Count / 2];
        }
        else if (sequence is null)
        {
            throw new ArgumentNullException(nameof(sequence), "Sequence can't be null.");
        }
        else
        {
            int halfLength = sequence.Count() / 2 - 1;
            if (halfLength < 0) halfLength = 0;
            return sequence.Skip(halfLength).First();
        }
    }

    string WaterState(int tempInFahrenheit) =>
        tempInFahrenheit switch
        {
            < 32 => "solid",
            32 => "solid/liquid transition",
            (> 32) and (< 212) => "liquid",
            212 => "liquid / gas transition",
            > 212 => "gas",
        };
}
]]></e>

<e name="Source genrator: Regex" lang="csharp"><![CDATA[
using System.Text.RegularExpressions;

namespace RegexExample;


public partial class RegexGenerator
{
    [GeneratedRegex(@"\d{3}-\d{2}-\d{4}")]
    public static partial Regex MyRegex { get; }
}
]]></e>


<e name="Source genrator: LibraryImport" lang="csharp"><![CDATA[
using System.Runtime.InteropServices;

namespace LibInportGeneratorExample;

public partial class LibInportGenerator
{
    [LibraryImport("user32.dll", EntryPoint = "MessageBoxW", StringMarshalling = StringMarshalling.Utf16)]
    private static partial int MessageBox(IntPtr hWnd, string text, string caption, uint type);
}
]]></e>

<e name="Source genrator: Json" lang="csharp"><![CDATA[
using System.Text.Json.Serialization;

namespace JsonSerializerContextExample;

public class WeatherForecast
{
    public DateTime Date { get; set; }
    public int TemperatureCelsius { get; set; }
    public string? Summary { get; set; }
}

[JsonSourceGenerationOptions(WriteIndented = true)]
[JsonSerializable(typeof(WeatherForecast))]
internal partial class SourceGenerationContext : JsonSerializerContext { }
]]></e>

<e name="Async/await" lang="csharp"><![CDATA[
class AsyncAwaitDemo 
{
	public async Task<int> Sum()
	{
		int sum = 0;
		for (int i=0; i<10; i++)
		{
			sum += i;
			await Task.Delay(1000);
		}
		return sum;
	}
}
]]></e>

<e name="IAsyncEnumeralbe" lang="csharp"><![CDATA[
class AsyncEnumerable
{
	public async IAsyncEnumerable<int> Producer()
	{
		for (int i=0; i<100; i++)
		{
			await Task.Delay(100);
			yield return i;
		}
	}
}
]]>
</e>

<e name="Moodule example" lang="fsharp"><![CDATA[
namespace MyLib

/// A simple utility module
module MathUtils =
    
    /// Adds two integers.
    let add a b = a + b

    /// Multiplies two integers.
    let multiply a b = a * b


/// A simple class with methods
type Greeter(name: string) =
    member _.Name = name

    member this.Greet() =
        $"Hello, {this.Name}!"
]]></e>

<e name="Sample Visual Basic" lang="vb"><![CDATA[
Imports System
Public Class C
    Public Sub M()
        Dim d = 43.0
        Dim i = 11
        Dim f = 42.0f
        
        Dim r = d * i * f 
    End Sub
End Class
]]>    
</e>

</examples>