syntax = "proto3";

package lowsharp.apiv1.evaluate;

option csharp_namespace = "LowSharp.ApiV1.Evaluate";

service Evaluator {
  rpc Initialize(InitializationRequest) returns (InitializationResponse);
  rpc Evaluate(EvaluationRequest) returns (stream FormattedText);
  rpc Uninitialize(UninitializationRequest) returns (UninitializationResponse);
}

// Evaluate types
message EvaluationRequest {
  string id = 1;
  string user_input = 2;
}

enum ForegroundColor {
  FOREGROUND_COLOR_DEFAULT_UNSPECIFIED = 0;
  FOREGROUND_COLOR_BLACK = 1;
  FOREGROUND_COLOR_BLUE = 2;
  FOREGROUND_COLOR_CYAN = 3;
  FOREGROUND_COLOR_GREEN = 4;
  FOREGROUND_COLOR_PURPLE = 5;
  FOREGROUND_COLOR_RED = 6;
  FOREGROUND_COLOR_WHITE = 7;
  FOREGROUND_COLOR_YELLOW = 8;
  FOREGROUND_COLOR_BRIGHTBLACK = 9;
  FOREGROUND_COLOR_BRIGHTBLUE = 10;
  FOREGROUND_COLOR_BRIGHTCYAN = 11;
  FOREGROUND_COLOR_BRIGHTGREEN = 12;
  FOREGROUND_COLOR_BRIGHTPURPLE = 13;
  FOREGROUND_COLOR_BRIGHTRED = 14;
  FOREGROUND_COLOR_BRIGHTWHITE = 15;
  FOREGROUND_COLOR_BRIGHTYELLOW = 16;
}

message FormattedText {
  string text = 1;
  bool is_bold = 2;
  bool is_italic = 3;
  ForegroundColor color = 4;
}

message InitializationRequest {
}

message InitializationResponse {
  string id = 1;
}

message UninitializationRequest {
  string id = 1;
}

message UninitializationResponse {
}
